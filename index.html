<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Ethereum-based Personal Data Management</title>
    <!-- Bootstrap -->
    <link href="css/basic.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <style>
    * {box-sizing: border-box;}.column {float: left; width: 50%; padding: 10px;}
    .row:after {content: ""; display: table; clear: both;}
    </style>
  </head>
  
  <body>
  	<main>
    <div class="container">    
		<div>      
			<h1 align="center" style="font-size:40px;">Ethereum-based Personal Data Management</h1>
		</div>

		<div class="box">
			<div class="row">
				<div class="column" style="background-color:#e6edf9;">
					<h2>Smart Contract Address:</h2>
					<hr/>
					<h3 id="contractAddr"></h4>
				</div>
				<div class="column" style="background-color:#e6edf9;">
					<h2>Account Address:</h2>
					<hr/>
					<h3 id="accountAddress"></h4>
				</div>
			</div>
		</div>

		<div class="alert warning">
			<h4 id="alert_info" align="center"></h4>
		</div>

		<div id="uploadinfo" class="box">
			<div class="row">
				<div class="column" style="background-color:#e6edf9;">	
					<h2 style="text-align:center">Your Profile</h2>
					<div class="card">
					  <img id="user_image" src="" style="width:100%">
					  <h1 id="user_name"></h1>
					  <p class="title" id="user_org"></p>
					  <p> ----- </p>
					  <p id="user_email">Email: </p>
  					  <p id="user_age">Age: </p>
  					  <p>Heart Rate (bpm):</p>
					  <strong><p id="user_heartbeat"></p></strong>

					  <div style="margin: 24px 0;">
						<a href="#"><i class="fa fa-dribbble"></i></a> 
						<a href="#"><i class="fa fa-twitter"></i></a>  
						<a href="#"><i class="fa fa-linkedin"></i></a>  
						<a href="#"><i class="fa fa-facebook"></i></a> 
					  </div>
					  <p><button>Contact</button></p>
					</div>			
				</div>
	
				<div class="column" style="background-color:#e6edf9;">	
					<h2 class="text-center">Create/Update Your Information:</h2>
					<table class="table" id="list1">
					  <thead>
						<tr>
						  <th scope="col">Flag</th>
						  <th scope="col">Data Pointer</th>
						  <th scope="col">Timestamp</th>
						</tr>
					  </thead>
					  <tbody id="datainfo"></tbody>
					</table>
					<hr/>

					<form onSubmit="uploadData(); return false;">
					  <table class="table">				  
						<tr>
						  <th scope="col">#</th>
						  <th scope="col">First Name: </th>
						  <th scope="col"><input type="text" id="pfname"></th>
						</tr>
						<tr>
						  <th scope="col">#</th>
						  <th scope="col">Last Name: </th>
						  <th scope="col"><input type="text" id="plname"></th>
						</tr>
						<tr>
						  <th scope="col">#</th>
						  <th scope="col">Organisation: </th>              
						  <th scope="col"><input type="text" id="porg"></th>              
						</tr>
						<tr>
						  <th scope="col">#</th>
						  <th scope="col">Age: </th>              
						  <th scope="col"><input type="text" id="puserage"></th>              
						</tr>
						<tr>
						  <th scope="col">#</th>
						  <th scope="col">Heartbeat: </th>              
						  <th scope="col"><input type="text" id="pheartbeat"></th>              
						</tr>
						<tr>
						  <th scope="col">#</th>
						  <th scope="col">Email: </th>              
						  <th scope="col"><input type="text" id="pemail"></th>              
						</tr>
					  </table>
					  <button type="submit" class="btn btn-primary">Upload Data</button>
					</form>				
				</div>
			</div>
		</div>	
		
		<div id="grantaccess" class="box">	
			<div class="row">
			  <div class="column" style="background-color:#e6edf9;">
				<h2 class="text-center">Grant Permissions</h2>			
				<hr/>			
				<form onSubmit="grantAccess(); return false;">
					<table id="list1">
						<tr>
						  <th>#</th>
						  <td align=left><strong>Requester ID:</strong></td>
						  <td align=left><input type="text" id="tpaddress" size=42 maxlength="42"></td>
						</tr>				
						<tr>
						  <th>#</th>
						  <td align=left><strong>Permission Granted:</strong></td>				      
						  <td align=left>
						  	<div class="styled-select blue semi-square">
						  	  <select class="form-control" id="permissionSelect" size="5" multiple>
						  	  	<option value=0>NO PERMISSION</option>			 				  	  
							  	<option value=1>CREATE</option>
							  	<option value=2>READ</option>
							  	<option value=4>UPDATE</option>
							  	<option value=8>DELETE</option>
							  </select>
							</div>
						  </td>
						</tr>
						<tr>
							<td colspan="3"><button type="submit" class="btn btn-primary">Grant Access</button></td>
						</tr>
					</table>
					<hr />
				</form>
			  </div>
			  <div class="column" style="background-color:#e6edf9;">
				<h2>Request Permissions</h2>
				<hr/>
				<form onSubmit="requestAccess(); return false;">
					<table id="list1">
						<tr>
						  <th>#</th>
						  <td align=left><strong>Data Owner ID:</strong></td>
						  <td align=left><input type="text" id="ownerId" size=42 maxlength="42"></td>
						</tr>				
						<tr>
						  <th>#</th>
						  <td align=left><strong>Permission Requested:</strong></td>				      
						  <td align=left>
						  	<div class="styled-select blue semi-square">
						  	  <select class="form-control" id="perRequestSelect" size="5" multiple>
							  	<option value=1>CREATE</option>
							  	<option value=2>READ</option>
							  	<option value=4>UPDATE</option>
							  	<option value=8>DELETE</option>
							  </select>
							</div>
						  </td>
						</tr>
						<tr>
							<td colspan="3"><button type="submit" class="btn btn-primary">Request Permission</button></td>
						</tr>
					</table>
					<hr />
				</form>
			  </div>
			</div>	
		</div>

		<div id="aclist" class="box">
			<h2 class="text-center">Granted Permission List</h2>
			<table id="list1">
			  <thead>
				<tr>
				  <th scope="col">#</th>
				  <th scope="col">Requester ID</th>
				  <th scope="col">Permissions</th>
				  <th scope="col">Token Info.</th>
				</tr>
			  </thead>
			  <tbody id="aclinfo"></tbody>
			</table>
			<hr/>
		</div>

		<div class="box">
			<h2 class="text-center">Permission Request List</h2>
			<table id="list1">
			  <thead>
				<tr>
				  <th scope="col">#</th>
				  <th scope="col">Requester ID</th>
				  <th scope="col">Permissions Requested</th>
				  <th scope="col">Request Time</th>
				</tr>
			  </thead>
			  <tbody id="pendinginfo"></tbody>
			</table>
			<hr/>
		</div>


		<div class="row">
			<div class="column" style="background-color:#e6edf9;">			
				<h2 class="text-center">Obtain Profile Information:</h2>			
				<form onSubmit="readData(); return false;">
				  <table class="table">				  
					<tr>
					  <th scope="col">Data Owner Address: </th>
					  <th scope="col"><input type="text" id="req_ownerAddr"></th>
					</tr>
				  </table>
				  <button type="submit" class="btn btn-primary">Obtain Data</button>
				  <hr />
				</form>
			</div>
			
			<div class="column" style="background-color:#e6edf9;">
				<h2 style="text-align:center">Obtained Profile</h2>
				<div class="card">
				  <img id="req_user_image" src="" style="width:100%">
				  <h1 id="req_user_name"></h1>
				  <p class="title" id="req_user_org"></p>
				  <p id="req_user_email">Email: </p>
  				  <p id="req_user_age">Age: </p>
				  <p id="req_user_heartbeat">Heart Rate (bpm): </p>
				  <p> ----- </p>
				  
				  <div style="margin: 24px 0;">
					<a href="#"><i class="fa fa-dribbble"></i></a> 
					<a href="#"><i class="fa fa-twitter"></i></a>  
					<a href="#"><i class="fa fa-linkedin"></i></a>  
					<a href="#"><i class="fa fa-facebook"></i></a> 
				  </div>
				  <p><button>Contact</button></p>
				</div>
			</div>
			
		</div>            
    </div>
    <main>
  </body>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script type="text/javascript" src="js/web3.min.js"></script>
    <script type="text/javascript" src="js/truffle-contract.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <script type="text/javascript" src="js/uploadData.js"></script>
    <script type="text/javascript" src="js/crypto.js"></script>
    <script type="text/javascript" src="js/utils.js"></script>
</html>
